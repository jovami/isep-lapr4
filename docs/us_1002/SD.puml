@startuml

skinparam packageStyle rect
skinparam shadowing false

actor Manager as Actor
participant CreateCourseUI as UI <<presentation>> order 1
participant CreateCourseController as Controller <<application>> order 2
participant "course:Course" as Course <<domain>> order 3
participant PersistenceContext as Persistence <<persistence>> order 4
participant RepositoryFactory as Fact <<factory>> order 5
participant CourseRepository as Repo <<repository>> order 6

Actor -> UI : create Course
activate UI
    UI -> Controller : create
    Actor <-- UI : ask user information
    Actor -> UI : name, description,\nduration, capacity
    UI -> Controller : addCourse(name,\ndescription, duration,\ncapacity)
    activate Controller
            Controller -> Course : course = createCourse()
            Controller -> Course : setCourseName(name)
            note right of Controller: Set the all the information
            Controller -> Persistence : repositories()
            activate Persistence
            Persistence -> Fact : courses()
            activate Fact
                Fact -> Repo : create
                activate Repo
                Controller <-- Persistence: courseRepository
                deactivate Fact
                deactivate Persistence
        Controller -> Repo : saveCourse(course)
        deactivate Repo
    UI <-- Controller : course
    deactivate Controller
Actor <-- UI : displayCourseInfo
deactivate UI

@enduml